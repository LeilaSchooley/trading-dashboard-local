{"ast":null,"code":"/**\n * @fileoverview log4js is a library to log in JavaScript in similar manner\n * than in log4j for Java (but not really).\n *\n * <h3>Example:</h3>\n * <pre>\n *  const logging = require('log4js');\n *  const log = logging.getLogger('some-category');\n *\n *  //call the log\n *  log.trace('trace me' );\n * </pre>\n *\n * NOTE: the authors below are the original browser-based log4js authors\n * don't try to contact them about bugs in this version :)\n * @author Stephan Strittmatter - http://jroller.com/page/stritti\n * @author Seth Chisamore - http://www.chisamore.com\n * @since 2005-05-20\n * Website: http://log4js.berlios.de\n */\nvar debug = require('debug')('log4js:main');\nvar fs = require('fs');\nvar deepClone = require('rfdc')({\n  proto: true\n});\nvar configuration = require('./configuration');\nvar layouts = require('./layouts');\nvar levels = require('./levels');\nvar appenders = require('./appenders');\nvar categories = require('./categories');\nvar Logger = require('./logger');\nvar clustering = require('./clustering');\nvar connectLogger = require('./connect-logger');\nvar recordingModule = require('./appenders/recording');\nvar enabled = false;\nfunction sendLogEventToAppender(logEvent) {\n  if (!enabled) return;\n  debug('Received log event ', logEvent);\n  var categoryAppenders = categories.appendersForCategory(logEvent.categoryName);\n  categoryAppenders.forEach(function (appender) {\n    appender(logEvent);\n  });\n}\nfunction loadConfigurationFile(filename) {\n  debug(\"Loading configuration from \".concat(filename));\n  try {\n    return JSON.parse(fs.readFileSync(filename, 'utf8'));\n  } catch (e) {\n    throw new Error(\"Problem reading config from file \\\"\".concat(filename, \"\\\". Error was \").concat(e.message), e);\n  }\n}\nfunction configure(configurationFileOrObject) {\n  if (enabled) {\n    // eslint-disable-next-line no-use-before-define\n    shutdown();\n  }\n  var configObject = configurationFileOrObject;\n  if (typeof configObject === 'string') {\n    configObject = loadConfigurationFile(configurationFileOrObject);\n  }\n  debug(\"Configuration is \".concat(configObject));\n  configuration.configure(deepClone(configObject));\n  clustering.onMessage(sendLogEventToAppender);\n  enabled = true;\n\n  // eslint-disable-next-line no-use-before-define\n  return log4js;\n}\nfunction isConfigured() {\n  return enabled;\n}\nfunction recording() {\n  return recordingModule;\n}\n\n/**\n * This callback type is called `shutdownCallback` and is displayed as a global symbol.\n *\n * @callback shutdownCallback\n * @param {Error} [error]\n */\n\n/**\n * Shutdown all log appenders. This will first disable all writing to appenders\n * and then call the shutdown function each appender.\n *\n * @param {shutdownCallback} [callback] - The callback to be invoked once all appenders have\n *  shutdown. If an error occurs, the callback will be given the error object\n *  as the first argument.\n */\nfunction shutdown() {\n  var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n  if (typeof callback !== 'function') {\n    throw new TypeError('Invalid callback passed to shutdown');\n  }\n  debug('Shutdown called. Disabling all log writing.');\n  // First, disable all writing to appenders. This prevents appenders from\n  // not being able to be drained because of run-away log writes.\n  enabled = false;\n\n  // Clone out to maintain a reference\n  var appendersToCheck = Array.from(appenders.values());\n\n  // Reset immediately to prevent leaks\n  appenders.init();\n  categories.init();\n\n  // Count the number of shutdown functions\n  var shutdownFunctions = appendersToCheck.reduce(function (accum, next) {\n    return next.shutdown ? accum + 1 : accum;\n  }, 0);\n  if (shutdownFunctions === 0) {\n    debug('No appenders with shutdown functions found.');\n    callback();\n  }\n  var completed = 0;\n  var error;\n  debug(\"Found \".concat(shutdownFunctions, \" appenders with shutdown functions.\"));\n  function complete(err) {\n    error = error || err;\n    completed += 1;\n    debug(\"Appender shutdowns complete: \".concat(completed, \" / \").concat(shutdownFunctions));\n    if (completed >= shutdownFunctions) {\n      debug('All shutdown functions completed.');\n      callback(error);\n    }\n  }\n\n  // Call each of the shutdown functions\n  appendersToCheck.filter(function (a) {\n    return a.shutdown;\n  }).forEach(function (a) {\n    return a.shutdown(complete);\n  });\n}\n\n/**\n * Get a logger instance.\n * @static\n * @param {string} [category=default]\n * @return {Logger} instance of logger for the category\n */\nfunction getLogger(category) {\n  if (!enabled) {\n    configure(process.env.LOG4JS_CONFIG || {\n      appenders: {\n        out: {\n          type: 'stdout'\n        }\n      },\n      categories: {\n        default: {\n          appenders: ['out'],\n          level: 'OFF'\n        }\n      }\n    });\n  }\n  return new Logger(category || 'default');\n}\n\n/**\n * @name log4js\n * @namespace Log4js\n * @property getLogger\n * @property configure\n * @property shutdown\n */\nvar log4js = {\n  getLogger: getLogger,\n  configure: configure,\n  isConfigured: isConfigured,\n  shutdown: shutdown,\n  connectLogger: connectLogger,\n  levels: levels,\n  addLayout: layouts.addLayout,\n  recording: recording\n};\nmodule.exports = log4js;","map":{"version":3,"names":["debug","require","fs","deepClone","proto","configuration","layouts","levels","appenders","categories","Logger","clustering","connectLogger","recordingModule","enabled","sendLogEventToAppender","logEvent","categoryAppenders","appendersForCategory","categoryName","forEach","appender","loadConfigurationFile","filename","concat","JSON","parse","readFileSync","e","Error","message","configure","configurationFileOrObject","shutdown","configObject","onMessage","log4js","isConfigured","recording","callback","arguments","length","undefined","TypeError","appendersToCheck","Array","from","values","init","shutdownFunctions","reduce","accum","next","completed","error","complete","err","filter","a","getLogger","category","process","env","LOG4JS_CONFIG","out","type","default","level","addLayout","module","exports"],"sources":["C:/Users/badsc/Documents/GitHub/trading-dashboard-local/node_modules/log4js/lib/log4js.js"],"sourcesContent":["/**\n * @fileoverview log4js is a library to log in JavaScript in similar manner\n * than in log4j for Java (but not really).\n *\n * <h3>Example:</h3>\n * <pre>\n *  const logging = require('log4js');\n *  const log = logging.getLogger('some-category');\n *\n *  //call the log\n *  log.trace('trace me' );\n * </pre>\n *\n * NOTE: the authors below are the original browser-based log4js authors\n * don't try to contact them about bugs in this version :)\n * @author Stephan Strittmatter - http://jroller.com/page/stritti\n * @author Seth Chisamore - http://www.chisamore.com\n * @since 2005-05-20\n * Website: http://log4js.berlios.de\n */\nconst debug = require('debug')('log4js:main');\nconst fs = require('fs');\nconst deepClone = require('rfdc')({ proto: true });\nconst configuration = require('./configuration');\nconst layouts = require('./layouts');\nconst levels = require('./levels');\nconst appenders = require('./appenders');\nconst categories = require('./categories');\nconst Logger = require('./logger');\nconst clustering = require('./clustering');\nconst connectLogger = require('./connect-logger');\nconst recordingModule = require('./appenders/recording');\n\nlet enabled = false;\n\nfunction sendLogEventToAppender(logEvent) {\n  if (!enabled) return;\n  debug('Received log event ', logEvent);\n  const categoryAppenders = categories.appendersForCategory(\n    logEvent.categoryName\n  );\n  categoryAppenders.forEach((appender) => {\n    appender(logEvent);\n  });\n}\n\nfunction loadConfigurationFile(filename) {\n  debug(`Loading configuration from ${filename}`);\n  try {\n    return JSON.parse(fs.readFileSync(filename, 'utf8'));\n  } catch (e) {\n    throw new Error(\n      `Problem reading config from file \"${filename}\". Error was ${e.message}`,\n      e\n    );\n  }\n}\n\nfunction configure(configurationFileOrObject) {\n  if (enabled) {\n    // eslint-disable-next-line no-use-before-define\n    shutdown();\n  }\n\n  let configObject = configurationFileOrObject;\n\n  if (typeof configObject === 'string') {\n    configObject = loadConfigurationFile(configurationFileOrObject);\n  }\n  debug(`Configuration is ${configObject}`);\n\n  configuration.configure(deepClone(configObject));\n\n  clustering.onMessage(sendLogEventToAppender);\n\n  enabled = true;\n\n  // eslint-disable-next-line no-use-before-define\n  return log4js;\n}\n\nfunction isConfigured() {\n  return enabled;\n}\n\nfunction recording() {\n  return recordingModule;\n}\n\n/**\n * This callback type is called `shutdownCallback` and is displayed as a global symbol.\n *\n * @callback shutdownCallback\n * @param {Error} [error]\n */\n\n/**\n * Shutdown all log appenders. This will first disable all writing to appenders\n * and then call the shutdown function each appender.\n *\n * @param {shutdownCallback} [callback] - The callback to be invoked once all appenders have\n *  shutdown. If an error occurs, the callback will be given the error object\n *  as the first argument.\n */\nfunction shutdown(callback = () => {}) {\n  if (typeof callback !== 'function') {\n    throw new TypeError('Invalid callback passed to shutdown');\n  }\n  debug('Shutdown called. Disabling all log writing.');\n  // First, disable all writing to appenders. This prevents appenders from\n  // not being able to be drained because of run-away log writes.\n  enabled = false;\n\n  // Clone out to maintain a reference\n  const appendersToCheck = Array.from(appenders.values());\n\n  // Reset immediately to prevent leaks\n  appenders.init();\n  categories.init();\n\n  // Count the number of shutdown functions\n  const shutdownFunctions = appendersToCheck.reduce(\n    (accum, next) => (next.shutdown ? accum + 1 : accum),\n    0\n  );\n  if (shutdownFunctions === 0) {\n    debug('No appenders with shutdown functions found.');\n    callback();\n  }\n\n  let completed = 0;\n  let error;\n  debug(`Found ${shutdownFunctions} appenders with shutdown functions.`);\n  function complete(err) {\n    error = error || err;\n    completed += 1;\n    debug(`Appender shutdowns complete: ${completed} / ${shutdownFunctions}`);\n    if (completed >= shutdownFunctions) {\n      debug('All shutdown functions completed.');\n      callback(error);\n    }\n  }\n\n  // Call each of the shutdown functions\n  appendersToCheck\n    .filter((a) => a.shutdown)\n    .forEach((a) => a.shutdown(complete));\n}\n\n/**\n * Get a logger instance.\n * @static\n * @param {string} [category=default]\n * @return {Logger} instance of logger for the category\n */\nfunction getLogger(category) {\n  if (!enabled) {\n    configure(\n      process.env.LOG4JS_CONFIG || {\n        appenders: { out: { type: 'stdout' } },\n        categories: { default: { appenders: ['out'], level: 'OFF' } },\n      }\n    );\n  }\n  return new Logger(category || 'default');\n}\n\n/**\n * @name log4js\n * @namespace Log4js\n * @property getLogger\n * @property configure\n * @property shutdown\n */\nconst log4js = {\n  getLogger,\n  configure,\n  isConfigured,\n  shutdown,\n  connectLogger,\n  levels,\n  addLayout: layouts.addLayout,\n  recording,\n};\n\nmodule.exports = log4js;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}